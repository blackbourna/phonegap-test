<html>
<head>
	<title>My PhoneGap App</title>
	<script src="phonegap.js"></script>
	<script>
		function onDeviceReady() {
			startWatch();
		}
		// Start watching the acceleration
		function startWatch() {
			watchID = navigator.accelerometer.watchAcceleration(
			//success handler
			function (acceleration) {
				alert("x: "+ acceleration.x + " y:" + acceleration.y);
			},
			// error handler
			function () {
				// do nothing
			},
			// options
			{
				// Update acceleration every 3 seconds
				frequency: 3000
			});
		}
		// Stop watching the acceleration
		//
		function stopWatch() {
			if (watchID) {
				navigator.accelerometer.clearWatch(watchID);
				watchID = null;
		    	} else {
				startWatch();
			}
		}
		function go() {
		    document.addEventListener("deviceready", onDeviceReady, false);
		}
	</script>
</head>
<body onload="go()">
<button onclick="stopWatch()">Toggle Acceleration Monitoring</button>
</body>
</html>
