<html>
<head>
	<title>My PhoneGap App</title>
	<script src="phonegap.js"></script>
	<script src="vibration.js"></script>
	<script src="device-motion.js"></script>
	<script src="dialogs.js"></script>
	<script src="battery-status.js"></script>
</head>

<body onload="doSomething()">
	<script>
		alert('Alert from "alert" dialog');
		var stopAccelerometer = false;

		function onDeviceReady() {
		    alert('Hey!');
		    // vibrate
		    navigator.notification.vibrate(2000);

		    // beep
		    navigator.notification.beep(2);

		    // get battery status

		    function onBatteryStatus(info) {
		        // Handle the online event
		        alert("Battery Status - Level: " + info.level + " isPlugged: " + info.isPlugged);
		    }
		    window.addEventListener("batterystatus", onBatteryStatus, function(e) { alert(e) });

		    // start polling accelerometer
			startWatch();
		}
		 // Start watching the acceleration
		function startWatch() {
		    watchID = navigator.accelerometer.watchAcceleration(
		        //success handler
		        function (acceleration) {
					alert("Acceleration: " + acceleration.x);
					console.log(acceleration);}
		        },
		        // error handler
		        function () {
		            // do nothing
		        },
		        // options
		        {
		            // Update acceleration every 3 seconds
		            frequency: 3000
		        });
		}

		 // Stop watching the acceleration
		 //
		function stopWatch() {
		    if (watchID) {
		        navigator.accelerometer.clearWatch(watchID);
		        watchID = null;
		    }
		}

		function doSomething() {
		    document.addEventListener("deviceready", onDeviceReady, false);
		}
	</script>
</body>
</html>
